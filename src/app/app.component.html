<div class="container">
  <h1>Generador de Números Pares</h1>

   <!-- Mensaje de números agotados -->
   <div *ngIf="allNumbersUsed" class="warning-message">
    ¡Todos los números han sido generados! Usa el botón "Limpiar Todo" para reiniciar.
  </div>
  
  <div class="botones">
    <button (click)="generarNumero()">Generar Número Par</button>
    <button (click)="toggleHistorial()">
      {{ mostrarHistorial ? 'Ocultar' : 'Mostrar' }} Historial
    </button>
    <button class="danger" (click)="limpiarTodo()">Limpiar Todo</button>
  </div>

  <div *ngIf="ultimoNumero !== null" class="ultimo-numero">
    Último número generado: {{ ultimoNumero }}
  </div>

  <div *ngIf="mostrarHistorial" class="historial">
    <h2>Historial</h2>
    <div class="backup-buttons">
      <button (click)="exportarBackup()">Exportar Backup</button>
      <label class="import-button">
        Importar Backup
        <input type="file" hidden (change)="importarBackup($event)">
      </label>
    </div>
    
    <div class="lista-historial">
      <div *ngFor="let item of historial" class="item-historial">
        <span>Número: {{ item.numero }}</span>
        <span>Fecha: {{ item.fecha | date:'medium' }}</span>
      </div>
    </div>
    
    <div class="suma-total">
      Suma total: {{ sumaTotal }}
    </div>
  </div>
</div>